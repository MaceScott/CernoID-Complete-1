exports.id=804,exports.ids=[804],exports.modules={23550:(e,r,t)=>{Promise.resolve().then(t.bind(t,81541))},44082:(e,r,t)=>{Promise.resolve().then(t.bind(t,42382))},56694:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},81541:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>L});var s=t(95344),a=t(3729),i=t(56739),n=t(16706),o=t(54183),d=t(80443),l=t(65442),c=t(74665);let u=({onToggleSidebar:e})=>s.jsx(n.Z,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1},children:(0,s.jsxs)(o.Z,{children:[s.jsx(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e,sx:{mr:2},children:s.jsx(c.Z,{})}),s.jsx(l.Z,{variant:"h6",noWrap:!0,component:"div",children:"CernoID Dashboard"})]})});var h=t(81354),f=t(23156),p=t(38455),g=t(84624),x=t(90965),m=t(29478),y=t(22268),w=t(21078),j=t(92943),b=t(22837),v=t(15296),P=t(8428);let S=[{text:"Dashboard",icon:s.jsx(y.Z,{}),path:"/dashboard"},{text:"Cameras",icon:s.jsx(w.Z,{}),path:"/dashboard/cameras"},{text:"Users",icon:s.jsx(j.Z,{}),path:"/dashboard/users"},{text:"Security",icon:s.jsx(b.Z,{}),path:"/dashboard/security"},{text:"Settings",icon:s.jsx(v.Z,{}),path:"/dashboard/settings"}],C=({open:e,onClose:r})=>{let t=(0,P.useRouter)(),a=e=>{t.push(e),r()};return(0,s.jsxs)(h.ZP,{variant:"persistent",anchor:"left",open:e,sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},children:[s.jsx(o.Z,{}),s.jsx(i.Z,{sx:{overflow:"auto"},children:s.jsx(f.Z,{children:S.map(({text:e,icon:r,path:t})=>s.jsx(p.ZP,{disablePadding:!0,children:(0,s.jsxs)(g.Z,{onClick:()=>a(t),children:[s.jsx(x.Z,{children:r}),s.jsx(m.Z,{primary:e})]})},e))})})]})};function L({children:e}){let[r,t]=(0,a.useState)(!0);return(0,s.jsxs)(i.Z,{sx:{display:"flex"},children:[s.jsx(u,{onToggleSidebar:()=>t(!r)}),s.jsx(C,{open:r,onClose:()=>t(!1)}),s.jsx(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - 240px)"},ml:{sm:r?"240px":0},transition:e=>e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},children:e})]})}},20412:(e,r,t)=>{"use strict";t.d(r,{aC:()=>i});var s=t(3729),a=t(62783);function i(){let e=(0,s.useContext)(a.V);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}t(8428)},62783:(e,r,t)=>{"use strict";t.d(r,{H:()=>o,V:()=>n});var s=t(95344),a=t(3729),i=t(8428);let n=(0,a.createContext)(null);function o({children:e}){let r=(0,i.useRouter)(),[t,o]=(0,a.useState)({user:null,isAuthenticated:!1,isLoading:!0,error:null}),d=e=>{o(r=>({...r,error:e}))},l=async e=>{try{d(null),o(e=>({...e,isLoading:!0})),o(r=>({...r,user:e,isAuthenticated:!0,isLoading:!1})),r.push("/dashboard")}catch(e){throw o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"Login failed"})),e}},c=async e=>{try{d(null),o(e=>({...e,isLoading:!0}));let t=await fetch("/api/auth/login/face",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({faceData:e})});if(!t.ok)throw Error("Face recognition login failed");let s=await t.json();if(!s.success||!s.data?.user)throw Error(s.error||"Face recognition login failed");o(e=>({...e,user:s.data.user,isAuthenticated:!0,isLoading:!1})),r.push("/dashboard")}catch(e){throw o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"Face recognition login failed"})),e}},u=async e=>{try{d(null),o(e=>({...e,isLoading:!0}));let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw Error("Registration failed");let s=await t.json();if(!s.success||!s.data?.user)throw Error(s.error||"Registration failed");o(e=>({...e,user:s.data.user,isAuthenticated:!0,isLoading:!1})),r.push("/dashboard")}catch(e){throw o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"Registration failed"})),e}},h=async()=>{try{d(null),o(e=>({...e,isLoading:!0})),await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),o({user:null,isAuthenticated:!1,isLoading:!1,error:null}),r.push("/login")}catch(e){o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"Logout failed"}))}},f=async e=>{try{d(null),o(e=>({...e,isLoading:!0}));let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e})});if(!r.ok)throw Error("Password reset failed");let t=await r.json();if(!t.success)throw Error(t.error||"Password reset failed");o(e=>({...e,isLoading:!1}))}catch(e){throw o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"Password reset failed"})),e}},p=async(e,t,s)=>{try{d(null),o(e=>({...e,isLoading:!0}));let a=await fetch("/api/auth/update-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:e,password:t,confirmPassword:s})});if(!a.ok)throw Error("Password update failed");let i=await a.json();if(!i.success)throw Error(i.error||"Password update failed");o(e=>({...e,isLoading:!1})),r.push("/login")}catch(e){throw o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"Password update failed"})),e}};(0,a.useEffect)(()=>{(async function(){try{let e=await fetch("/api/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Authentication check failed");let r=await e.json();r.success&&r.data?.user?o({user:r.data.user,isAuthenticated:!0,isLoading:!1,error:null}):o({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(e){o({user:null,isAuthenticated:!1,isLoading:!1,error:e instanceof Error?e.message:"Authentication check failed"})}})()},[]);let g={...t,login:l,loginWithFace:c,register:u,logout:h,resetPassword:f,updatePassword:p};return s.jsx(n.Provider,{value:g,children:e})}},42382:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Providers:()=>h});var s=t(95344),a=t(62783),i=t(69738),n=t(77760);let o=(0,i.Z)({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2"},error:{main:"#d32f2f",light:"#ef5350",dark:"#c62828"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif'},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}}}});function d({children:e}){return s.jsx(n.Z,{theme:o,children:e})}var l=t(3729);let c=(0,l.createContext)(null);function u({children:e}){let r=function({url:e="ws://localhost:3000/ws",onMessage:r,onError:t,onClose:s,onOpen:a,reconnectAttempts:i=5,reconnectInterval:n=3e3}={}){let[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[h,f]=(0,l.useState)([]),p=(0,l.useRef)(null),g=(0,l.useRef)(0);return(0,l.useEffect)(()=>{let o=()=>{try{let l=new WebSocket(e);l.onopen=e=>{d(!0),u(null),g.current=0,a?.(e)},l.onmessage=e=>{f(r=>[...r,e.data]);try{let t=JSON.parse(e.data);r?.(t)}catch(t){r?.({type:"raw",data:e.data})}},l.onerror=e=>{u(e),t?.(e)},l.onclose=e=>{d(!1),s?.(e),g.current<i&&setTimeout(()=>{g.current+=1,o()},n)},p.current=l}catch(e){u(e),t?.(e)}};return o(),()=>{p.current&&p.current.close()}},[e,r,t,s,a,i,n]),{isConnected:o,error:c,send:e=>{p.current&&o&&p.current.send("string"==typeof e?e:JSON.stringify(e))},messages:h}}();return s.jsx(c.Provider,{value:r,children:e})}function h({children:e}){return s.jsx(d,{children:s.jsx(a.H,{children:s.jsx(u,{children:e})})})}},96339:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,t(86843).createProxy)(String.raw`C:\Users\maces\CernoID-Complete-1\frontend\app\dashboard\layout.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default},9421:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h,metadata:()=>u});var s=t(25036),a=t(80265),i=t.n(a);t(67272);var n=t(86843);let o=(0,n.createProxy)(String.raw`C:\Users\maces\CernoID-Complete-1\frontend\app\providers\providers.tsx`),{__esModule:d,$$typeof:l}=o;o.default;let c=(0,n.createProxy)(String.raw`C:\Users\maces\CernoID-Complete-1\frontend\app\providers\providers.tsx#Providers`),u={title:"CernoID - Secure Access Control",description:"Advanced facial recognition and access control system"};function h({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:s.jsx(c,{children:e})})})}},67272:()=>{}};