(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10988:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>f,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l});var n=r(50482),o=r(69108),i=r(62563),s=r.n(i),a=r(68300),u={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,60435)),"C:\\Users\\maces\\CernoID-Complete-1\\frontend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9421)),"C:\\Users\\maces\\CernoID-Complete-1\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\maces\\CernoID-Complete-1\\frontend\\app\\page.tsx"],c="/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},44082:(e,t,r)=>{Promise.resolve().then(r.bind(r,42382))},56694:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},35303:()=>{},62783:(e,t,r)=>{"use strict";r.d(t,{H:()=>a,V:()=>s});var n=r(95344),o=r(3729),i=r(8428);let s=(0,o.createContext)(null);function a({children:e}){let t=(0,i.useRouter)(),[r,a]=(0,o.useState)({user:null,isAuthenticated:!1,isLoading:!0,error:null}),u=e=>{a(t=>({...t,error:e}))},l=async e=>{try{u(null),a(e=>({...e,isLoading:!0})),a(t=>({...t,user:e,isAuthenticated:!0,isLoading:!1})),t.push("/dashboard")}catch(e){throw a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Login failed"})),e}},d=async e=>{try{u(null),a(e=>({...e,isLoading:!0}));let r=await fetch("/api/auth/login/face",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({faceData:e})});if(!r.ok)throw Error("Face recognition login failed");let n=await r.json();if(!n.success||!n.data?.user)throw Error(n.error||"Face recognition login failed");a(e=>({...e,user:n.data.user,isAuthenticated:!0,isLoading:!1})),t.push("/dashboard")}catch(e){throw a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Face recognition login failed"})),e}},c=async e=>{try{u(null),a(e=>({...e,isLoading:!0}));let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok)throw Error("Registration failed");let n=await r.json();if(!n.success||!n.data?.user)throw Error(n.error||"Registration failed");a(e=>({...e,user:n.data.user,isAuthenticated:!0,isLoading:!1})),t.push("/dashboard")}catch(e){throw a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Registration failed"})),e}},f=async()=>{try{u(null),a(e=>({...e,isLoading:!0})),await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),a({user:null,isAuthenticated:!1,isLoading:!1,error:null}),t.push("/login")}catch(e){a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Logout failed"}))}},p=async e=>{try{u(null),a(e=>({...e,isLoading:!0}));let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e})});if(!t.ok)throw Error("Password reset failed");let r=await t.json();if(!r.success)throw Error(r.error||"Password reset failed");a(e=>({...e,isLoading:!1}))}catch(e){throw a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Password reset failed"})),e}},h=async(e,r,n)=>{try{u(null),a(e=>({...e,isLoading:!0}));let o=await fetch("/api/auth/update-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:e,password:r,confirmPassword:n})});if(!o.ok)throw Error("Password update failed");let i=await o.json();if(!i.success)throw Error(i.error||"Password update failed");a(e=>({...e,isLoading:!1})),t.push("/login")}catch(e){throw a(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Password update failed"})),e}};(0,o.useEffect)(()=>{(async function(){try{let e=await fetch("/api/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Authentication check failed");let t=await e.json();t.success&&t.data?.user?a({user:t.data.user,isAuthenticated:!0,isLoading:!1,error:null}):a({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(e){a({user:null,isAuthenticated:!1,isLoading:!1,error:e instanceof Error?e.message:"Authentication check failed"})}})()},[]);let g={...r,login:l,loginWithFace:d,register:c,logout:f,resetPassword:p,updatePassword:h};return n.jsx(s.Provider,{value:g,children:e})}},42382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>f});var n=r(95344),o=r(62783),i=r(69738),s=r(77760);let a=(0,i.Z)({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2"},error:{main:"#d32f2f",light:"#ef5350",dark:"#c62828"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif'},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}}}});function u({children:e}){return n.jsx(s.Z,{theme:a,children:e})}var l=r(3729);let d=(0,l.createContext)(null);function c({children:e}){let t=function({url:e="ws://localhost:3000/ws",onMessage:t,onError:r,onClose:n,onOpen:o,reconnectAttempts:i=5,reconnectInterval:s=3e3}={}){let[a,u]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[f,p]=(0,l.useState)([]),h=(0,l.useRef)(null),g=(0,l.useRef)(0);return(0,l.useEffect)(()=>{let a=()=>{try{let l=new WebSocket(e);l.onopen=e=>{u(!0),c(null),g.current=0,o?.(e)},l.onmessage=e=>{p(t=>[...t,e.data]);try{let r=JSON.parse(e.data);t?.(r)}catch(r){t?.({type:"raw",data:e.data})}},l.onerror=e=>{c(e),r?.(e)},l.onclose=e=>{u(!1),n?.(e),g.current<i&&setTimeout(()=>{g.current+=1,a()},s)},h.current=l}catch(e){c(e),r?.(e)}};return a(),()=>{h.current&&h.current.close()}},[e,t,r,n,o,i,s]),{isConnected:a,error:d,send:e=>{h.current&&a&&h.current.send("string"==typeof e?e:JSON.stringify(e))},messages:f}}();return n.jsx(d.Provider,{value:t,children:e})}function f({children:e}){return n.jsx(u,{children:n.jsx(o.H,{children:n.jsx(c,{children:e})})})}},9421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>c});var n=r(25036),o=r(80265),i=r.n(o);r(67272);var s=r(86843);let a=(0,s.createProxy)(String.raw`C:\Users\maces\CernoID-Complete-1\frontend\app\providers\providers.tsx`),{__esModule:u,$$typeof:l}=a;a.default;let d=(0,s.createProxy)(String.raw`C:\Users\maces\CernoID-Complete-1\frontend\app\providers\providers.tsx#Providers`),c={title:"CernoID - Secure Access Control",description:"Advanced facial recognition and access control system"};function f({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:i().className,children:n.jsx(d,{children:e})})})}},60435:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(19738);function o(){(0,n.redirect)("/login")}},34778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return i}});let n=r(38675),o=r(45869);function i(e){let t=o.staticGenerationAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new n.BailoutToCSRError(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84552:(e,t,r)=>{"use strict";function n(e){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clientHookInServerComponentError",{enumerable:!0,get:function(){return n}}),r(46783),r(40002),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return h},useSearchParams:function(){return g},usePathname:function(){return m},ServerInsertedHTMLContext:function(){return l.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return l.useServerInsertedHTML},useRouter:function(){return y},useParams:function(){return b},useSelectedLayoutSegments:function(){return v},useSelectedLayoutSegment:function(){return S},redirect:function(){return d.redirect},permanentRedirect:function(){return d.permanentRedirect},RedirectType:function(){return d.RedirectType},notFound:function(){return c.notFound}});let n=r(40002),o=r(78726),i=r(57210),s=r(84552),a=r(83092),u=r(65458),l=r(80545),d=r(8010),c=r(1988),f=Symbol("internal for urlsearchparams readonly");function p(){return Error("ReadonlyURLSearchParams cannot be modified")}class h{[Symbol.iterator](){return this[f][Symbol.iterator]()}append(){throw p()}delete(){throw p()}set(){throw p()}sort(){throw p()}constructor(e){this[f]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}}function g(){(0,s.clientHookInServerComponentError)("useSearchParams");let e=(0,n.useContext)(i.SearchParamsContext),t=(0,n.useMemo)(()=>e?new h(e):null,[e]);{let{bailoutToClientRendering:e}=r(34778);e("useSearchParams()")}return t}function m(){return(0,s.clientHookInServerComponentError)("usePathname"),(0,n.useContext)(i.PathnameContext)}function y(){(0,s.clientHookInServerComponentError)("useRouter");let e=(0,n.useContext)(o.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function b(){(0,s.clientHookInServerComponentError)("useParams");let e=(0,n.useContext)(o.GlobalLayoutRouterContext),t=(0,n.useContext)(i.PathParamsContext);return(0,n.useMemo)(()=>(null==e?void 0:e.tree)?function e(t,r){for(let n of(void 0===r&&(r={}),Object.values(t[1]))){let t=n[0],o=Array.isArray(t),i=o?t[1]:t;!i||i.startsWith(u.PAGE_SEGMENT_KEY)||(o&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):o&&(r[t[0]]=t[1]),r=e(n,r))}return r}(e.tree):t,[null==e?void 0:e.tree,t])}function v(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:t}=(0,n.useContext)(o.LayoutRouterContext);return function e(t,r,n,o){let i;if(void 0===n&&(n=!0),void 0===o&&(o=[]),n)i=t[1][r];else{var s;let e=t[1];i=null!=(s=e.children)?s:Object.values(e)[0]}if(!i)return o;let l=i[0],d=(0,a.getSegmentValue)(l);return!d||d.startsWith(u.PAGE_SEGMENT_KEY)?o:(o.push(d),e(i,r,!1,o))}(t,e)}function S(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegment");let t=v(e);return 0===t.length?null:t[0]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{notFound:function(){return n},isNotFoundError:function(){return o}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45858:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8010:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return u},redirect:function(){return l},permanentRedirect:function(){return d},isRedirectError:function(){return c},getURLFromRedirectError:function(){return f},getRedirectTypeFromError:function(){return p},getRedirectStatusCodeFromError:function(){return h}});let o=r(54580),i=r(72934),s=r(45858),a="NEXT_REDIRECT";function u(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let n=Error(a);n.digest=a+";"+t+";"+e+";"+r+";";let i=o.requestAsyncStorage.getStore();return i&&(n.mutableCookies=i.mutableCookies),n}function l(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw u(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw u(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,o]=e.digest.split(";",4),i=Number(o);return t===a&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(i)&&i in s.RedirectStatusCode}function f(e){return c(e)?e.digest.split(";",3)[2]:null}function p(e){if(!c(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!c(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83092:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78726:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.AppRouterContext},57210:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.HooksClientContext},80545:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.ServerInsertedHtml},38675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return o}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},65458:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isGroupSegment:function(){return r},PAGE_SEGMENT_KEY:function(){return n},DEFAULT_SEGMENT_KEY:function(){return o}});let n="__PAGE__",o="__DEFAULT__"},67272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,961],()=>r(10988));module.exports=n})();